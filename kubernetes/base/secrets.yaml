# APEX.BUILD Secrets Template
# WARNING: This is a TEMPLATE with placeholder values
# In production, use:
# - External Secrets Operator with AWS Secrets Manager/HashiCorp Vault
# - Sealed Secrets
# - SOPS
# - kubectl create secret from literals
#
# NEVER commit actual secrets to version control!
---
apiVersion: v1
kind: Secret
metadata:
  name: apex-backend-secrets
  namespace: apex-build
  labels:
    app.kubernetes.io/name: apex-build
    app.kubernetes.io/component: backend
type: Opaque
stringData:
  # Database credentials
  # Replace with actual values or use external secrets
  DB_USER: "PLACEHOLDER_DB_USER"
  DB_PASSWORD: "PLACEHOLDER_DB_PASSWORD"
  DB_HOST: "apex-postgres"
  DB_NAME: "apex_build"
  DATABASE_URL: "postgres://PLACEHOLDER_DB_USER:PLACEHOLDER_DB_PASSWORD@apex-postgres:5432/apex_build?sslmode=require"

  # Redis password (if using authentication)
  REDIS_URL: "redis://apex-redis:6379"
  REDIS_PASSWORD: ""

  # JWT Secret - MUST be replaced in production
  # Generate with: openssl rand -base64 64
  JWT_SECRET: "PLACEHOLDER_JWT_SECRET_GENERATE_WITH_OPENSSL"

  # Secrets encryption master key
  # Generate with: openssl rand -base64 32
  SECRETS_MASTER_KEY: "PLACEHOLDER_SECRETS_MASTER_KEY"

  # AI Provider API Keys
  ANTHROPIC_API_KEY: "PLACEHOLDER_ANTHROPIC_API_KEY"
  OPENAI_API_KEY: "PLACEHOLDER_OPENAI_API_KEY"
  GEMINI_API_KEY: "PLACEHOLDER_GEMINI_API_KEY"

  # Payment Integration
  STRIPE_SECRET_KEY: "PLACEHOLDER_STRIPE_SECRET_KEY"
  STRIPE_WEBHOOK_SECRET: "PLACEHOLDER_STRIPE_WEBHOOK_SECRET"

  # Deployment provider tokens
  VERCEL_TOKEN: "PLACEHOLDER_VERCEL_TOKEN"
  NETLIFY_TOKEN: "PLACEHOLDER_NETLIFY_TOKEN"
  RENDER_TOKEN: "PLACEHOLDER_RENDER_TOKEN"

  # OAuth providers
  GITHUB_CLIENT_ID: "PLACEHOLDER_GITHUB_CLIENT_ID"
  GITHUB_CLIENT_SECRET: "PLACEHOLDER_GITHUB_CLIENT_SECRET"
  GOOGLE_CLIENT_ID: "PLACEHOLDER_GOOGLE_CLIENT_ID"
  GOOGLE_CLIENT_SECRET: "PLACEHOLDER_GOOGLE_CLIENT_SECRET"

  # Error tracking
  SENTRY_DSN: "PLACEHOLDER_SENTRY_DSN"
---
apiVersion: v1
kind: Secret
metadata:
  name: apex-postgres-secrets
  namespace: apex-build
  labels:
    app.kubernetes.io/name: apex-build
    app.kubernetes.io/component: postgres
type: Opaque
stringData:
  POSTGRES_USER: "PLACEHOLDER_POSTGRES_USER"
  POSTGRES_PASSWORD: "PLACEHOLDER_POSTGRES_PASSWORD"
---
apiVersion: v1
kind: Secret
metadata:
  name: apex-redis-secrets
  namespace: apex-build
  labels:
    app.kubernetes.io/name: apex-build
    app.kubernetes.io/component: redis
type: Opaque
stringData:
  # Optional Redis password
  REDIS_PASSWORD: ""
---
# TLS certificate secret template
# In production, use cert-manager with Let's Encrypt
apiVersion: v1
kind: Secret
metadata:
  name: apex-tls-secret
  namespace: apex-build
  labels:
    app.kubernetes.io/name: apex-build
type: kubernetes.io/tls
data:
  # Base64 encoded TLS certificate
  tls.crt: "PLACEHOLDER_TLS_CERTIFICATE_BASE64"
  # Base64 encoded TLS private key
  tls.key: "PLACEHOLDER_TLS_PRIVATE_KEY_BASE64"
